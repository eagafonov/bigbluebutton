<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
        <head>
                <title></title>
                <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
                <style type="text/css" media="screen">
                        html, body, #content    { height:100%; }
                        body                                    { margin:0; padding:0; overflow:hidden; }
                        #altContent                             { /* style alt content */ }
                </style>
                <script type="text/javascript" src="swfobject/swfobject.js"></script>
                <script type="text/javascript">
                        swfobject.registerObject("BigBlueButton", "10.3.0", "expressInstall.swf");
                </script>
                <script src="lib/jquery-1.5.1.min.js" language="javascript"></script>
                <script src="lib/bigbluebutton.js" language="javascript"></script>
                <script src="lib/bbb_localization.js" language="javascript"></script>
                <script src="lib/bbb_blinker.js" language="javascript"></script>
                <script src="lib/bbb_deskshare.js" language="javascript"></script>
                <script language="javascript">

                    function flash_trace(message) {
                        console.log("[FLASH]", message);
                    }

                    function createReplayer(containerId, objectId, flashvars) {

                        jQuery('<div>').appendTo('#'+containerId).attr('id', objectId);

                        // For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection.
                        var swfVersionStr = "11.1.0";
                        // To use express install, set to playerProductInstall.swf, otherwise the empty string.
                        var xiSwfUrlStr = "playerProductInstall.swf";

                        var params = {};
                        params.quality = "high";
                        params.bgcolor = "#888888";
                        params.allowscriptaccess = "always";
                        params.allowfullscreen = "true";

                        var attributes = {};
                        attributes.id = objectId;
                        attributes.name = objectId;
                        attributes.class = objectId;
                        attributes.align = "middle";

                        swfobject.embedSWF(
                            "DeskshareStandalone.swf?v=VERSION", objectId,
                            "100%", "100%",
                            swfVersionStr, xiSwfUrlStr,
                            flashvars, params, attributes);

                        // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
//                         swfobject.createCSS("#"+elementId", "display:block;text-align:left;");
                    }

                    $(document).ready(function() {
                            var flashvars = {};

                            if (window.location.hash) {
                                var parts = window.location.hash.substring(1).split(';');

                                jQuery.each(parts, function(i,e) {
                                        name_val = e.split('=', 2);
//                                         console.log(i, name_val[0], name_val[1]);
                                        flashvars[name_val[0]] = name_val[1];
                                    });
                            }

//                             console.log(flashvars);

                            createReplayer('content', 'deskshareswf', flashvars);
                        });
                </script>
        </head>
        <body>
                <div id="content">
                </div>
        </body>
</html>
